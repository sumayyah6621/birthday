<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<link rel="stylesheet" type="text/css" href="style.css">

<div id="card">
    <div id="card-inside">
      <div class="wrap">
        <p>Happy Birthday Love!</p>
        <p>Wishing you all the best on your special day! </p>
        <p>I would do anything to be there to celebrate this wonderful day with you. The least I can do is try to make you as happy as you make me everyday.
            I know today isn't as anyone would have expected it to be, but I hope this brings a smile to your day. And I promise I will take you out on a real date
           after all of this is over.Words can't possibly explain how much you mean to me, so I promise to show you how much you mean to me everyday for the rest of our lives.
           </p>
        <p>I will be there with you in your heart and soul whenever you seek me.I love you with all my heart and my two livers. Here's to 23 babe!
        </p>
        <p>Love always</p>
        <p ></p>
         <p><a href="23reasons.html">NEXT</a></p>
        
      </div>
    </div>

    <div id="card-front">
      <div class="wrap">
          </br></br></br>
        <h1>Happy Birthday!</h1>
      </div>
      <button id="open">&gt;</button>
      <button id="close">&lt;</button>
    </div>
  </div>

<script>

//falling confetti// 
  
for (var i = 0; i < 250; i++) {
  create(i);
}

function create(i) {
  var width = Math.random() * 15;
  var height = width * 0.4;
  var colourIdx = Math.ceil(Math.random() * 3);
  var colour = "red";
  switch(colourIdx) {
    case 1:
      colour = "yellow";
      break;
    case 2:
      colour = "blue";
      break;
    default:
      colour = "red";
  }
  $('<div class="confetti-'+i+' '+colour+'"></div>').css({
    "width" : width+"px",
    "height" : height+"px",
    "top" : -Math.random()*20+"%",
    "left" : Math.random()*100+"%",
    "opacity" : Math.random()+0.5,
    "transform" : "rotate("+Math.random()*360+"deg)"
  }).appendTo('#card');  
  
  drop(i);
}

var count = 0;
function drop(x) {
  count++;
  $('.confetti-'+x).animate({
    top: "100%",
    left: "+="+Math.random()*15+"%"
  }, Math.random()*3000 + 3000, function() {
    if(count<650){
      reset(x);
    }
  });
}

function reset(x) {
  $('.confetti-'+x).animate({
    "top" : -Math.random()*20+"%",
    "left" : "-="+Math.random()*15+"%"
  }, 0, function() {
    drop(x);             
  });
}
////////////////////////////////////////////////////////////

  
(function() {
  function $(id) {
    return document.getElementById(id);
  }

  var card = $('card'),
      openB = $('open'),
      closeB = $('close'),
      timer = null;
  console.log('wat', card);
  openB.addEventListener('click', function () {
    card.setAttribute('class', 'open-half');
    if (timer) clearTimeout(timer);
    timer = setTimeout(function () {
      card.setAttribute('class', 'open-fully');
      timer = null;
    }, 1000);
  });

  closeB.addEventListener('click', function () {
    card.setAttribute('class', 'close-half');
    if (timer) clearTimerout(timer);
    timer = setTimeout(function () {
      card.setAttribute('class', '');
      timer = null;
    }, 1000);
  });

}());
</script>
